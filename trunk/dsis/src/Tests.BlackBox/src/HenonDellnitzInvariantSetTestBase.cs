using DSIS.Core.System.Impl;
using DSIS.Function.Predefined.Henon;
using NUnit.Framework;

namespace DSIS.Tests.BlackBox
{
  [TestFixture]
  public class HenonDellnitzInvariantSetTestBase : InvariantSetTestBase
  {
    [SetUp]
    public override void SetUp()
    {
      base.SetUp();

      mySystemSpace = new DefaultSystemSpace(2, new double[] {-2, -2}, new double[] {2, 2}, new long[] {3, 3});
      mySystemInfo = new HenonDellnitzFunctionSystemInfoDecorator(mySystemSpace, 1.2, 0.2);
    }

    [Test]
    public void Test_01()
    {
      DoTest(5, 100000, 102000, new double[] { 13, 13 }, new double[] { -0.4045867919921875, -1.0134124755859375 });
    }
    
    [Test]
    public void Test_02()
    {
      DoTest(5, 100000, 102000, new double[] { 13, 13 }, new double[] { -0.708984375, -1.373046875 });
    }

    [Test]
    public void Test_MuchPointsFromBuildImage_x15()
    {
      DoTest(5, 100000, 102000, new double[] { 13, 13 }, Parse(x15_points).ToArray());      
    }


    private const string x15_points =
      @"-0.4046173095703125 -1.0196685791015625 
-0.4046173095703125 -1.0196380615234375 
-0.4046173095703125 -1.0196075439453125 
-0.4046173095703125 -1.0195465087890625 
-0.4046173095703125 -1.0194854736328125 
-0.4046173095703125 -1.0194549560546875 
-0.4046173095703125 -1.0193939208984375 
-0.4046173095703125 -1.0137481689453125 
-0.4045867919921875 -1.0137481689453125 
-0.4045867919921875 -1.0137176513671875 
-0.4045867919921875 -1.0136871337890625 
-0.4045867919921875 -1.0136566162109375 
-0.4045867919921875 -1.0135955810546875 
-0.4045867919921875 -1.0135650634765625 
-0.4045867919921875 -1.0135040283203125 
-0.4045867919921875 -1.0134124755859375 
-1.3546295166015625 -0.4046173095703125 
-1.3545989990234375 -0.4046173095703125 
-1.3535614013671875 -0.4045867919921875 
-1.3536224365234375 -0.4045562744140625 
-1.3535919189453125 -0.4045562744140625 
-1.3535614013671875 -0.4045562744140625 
-0.6827239990234375 -1.3545989990234375 
-0.6826629638671875 -1.3545684814453125 
-0.6810455322265625 -1.3536224365234375 
-0.6810150146484375 -1.3535919189453125 
-0.6809844970703125 -1.3535919189453125 
-0.6809539794921875 -1.3535614013671875 
-0.8125457763671875 -0.6826934814453125 
-0.8125762939453125 -0.6826629638671875 
-0.8126373291015625 -0.6826324462890625 
-0.8126068115234375 -0.6826324462890625 
-0.8148651123046875 -0.6810455322265625 
-0.8148956298828125 -0.6810150146484375 
-0.8149566650390625 -0.6809844970703125 
-0.8149871826171875 -0.6809539794921875 
-1.0134429931640625 -0.5208587646484375 
-1.0135345458984375 -0.5208282470703125 
-1.0136260986328125 -0.5207977294921875 
-1.0135955810546875 -0.5207977294921875 
-1.0136871337890625 -0.5207672119140625 
-1.0137481689453125 -0.5207366943359375 
-1.0193939208984375 -0.5184783935546875 
-1.0194854736328125 -0.5184478759765625 
-1.0195465087890625 -0.5184173583984375 
-1.0196380615234375 -0.5183868408203125 
-1.0196990966796875 -0.5183563232421875 
-0.5183563232421875 -0.8149566650390625 
-0.5183868408203125 -0.8149261474609375 
-0.5184173583984375 -0.8148956298828125 
-0.5184478759765625 -0.8148651123046875 
-0.5184783935546875 -0.8148345947265625 
-0.5207672119140625 -0.8126373291015625 
-0.5207977294921875 -0.8126068115234375 
-0.5208282470703125 -0.8125762939453125 
-0.5208587646484375 -0.8125457763671875 
-0.5208892822265625 -0.8125152587890625 
";
  }
}